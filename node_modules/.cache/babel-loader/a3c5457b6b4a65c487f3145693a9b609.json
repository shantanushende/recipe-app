{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shantanushende/Desktop/r-app-git/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/shantanushende/Desktop/r-app-git/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/shantanushende/Desktop/r-app-git/recipe-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import UserContext from\"../context/UserContext\";import{firestore}from\"../firebase\";var RecipeList=function RecipeList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),recipes=_useState2[0],setRecipes=_useState2[1];var user=useContext(UserContext);useEffect(function(){var getRecipes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var recipeCol;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firestore.collection(\"users\").doc(user.uid).collection(\"recipes\").get();case 2:recipeCol=_context.sent;setRecipes(recipeCol.docs);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getRecipes(){return _ref.apply(this,arguments);};}();getRecipes();},[user]);var renderRecipes=function renderRecipes(){return recipes.map(function(recipe,i){var recipeData=recipe.data();return/*#__PURE__*/React.createElement(\"li\",{key:i},/*#__PURE__*/React.createElement(Link,{to:\"/recipe/\".concat(recipe.id)},recipeData.name));});};return/*#__PURE__*/React.createElement(\"div\",{className:\"recipe-list\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Recipes\"),/*#__PURE__*/React.createElement(\"ul\",null,renderRecipes()));};export default RecipeList;","map":{"version":3,"sources":["/Users/shantanushende/Desktop/r-app-git/recipe-app/src/recipe/RecipeList.js"],"names":["React","useContext","useEffect","useState","Link","UserContext","firestore","RecipeList","recipes","setRecipes","user","getRecipes","collection","doc","uid","get","recipeCol","docs","renderRecipes","map","recipe","i","recipeData","data","id","name"],"mappings":"wfAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA,OAASC,SAAT,KAA0B,aAA1B,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eACOJ,QAAQ,CAAC,EAAD,CADf,wCAChBK,OADgB,eACPC,UADO,eAGvB,GAAMC,CAAAA,IAAI,CAAGT,UAAU,CAACI,WAAD,CAAvB,CAEAH,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,UAAU,0FAAG,uKACOL,CAAAA,SAAS,CAC9BM,UADqB,CACV,OADU,EAErBC,GAFqB,CAEjBH,IAAI,CAACI,GAFY,EAGrBF,UAHqB,CAGV,SAHU,EAIrBG,GAJqB,EADP,QACXC,SADW,eAOjBP,UAAU,CAACO,SAAS,CAACC,IAAX,CAAV,CAPiB,sDAAH,kBAAVN,CAAAA,UAAU,0CAAhB,CASAA,UAAU,GACX,CAXQ,CAWN,CAACD,IAAD,CAXM,CAAT,CAaA,GAAMQ,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,MAAOV,CAAAA,OAAO,CAACW,GAAR,CAAY,SAACC,MAAD,CAASC,CAAT,CAAe,CAChC,GAAMC,CAAAA,UAAU,CAAGF,MAAM,CAACG,IAAP,EAAnB,CACA,mBACE,0BAAI,GAAG,CAAEF,CAAT,eACE,oBAAC,IAAD,EAAM,EAAE,mBAAaD,MAAM,CAACI,EAApB,CAAR,EAAmCF,UAAU,CAACG,IAA9C,CADF,CADF,CAKD,CAPM,CAAP,CAQD,CATD,CAWA,mBACE,2BAAK,SAAS,CAAC,aAAf,eACE,wCADF,cAEE,8BAAKP,aAAa,EAAlB,CAFF,CADF,CAMD,CAnCD,CAqCA,cAAeX,CAAAA,UAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport { firestore } from \"../firebase\";\n\nconst RecipeList = () => {\n  const [recipes, setRecipes] = useState([]);\n\n  const user = useContext(UserContext);\n\n  useEffect(() => {\n    const getRecipes = async () => {\n      const recipeCol = await firestore\n        .collection(\"users\")\n        .doc(user.uid)\n        .collection(\"recipes\")\n        .get();\n\n      setRecipes(recipeCol.docs);\n    };\n    getRecipes();\n  }, [user]);\n\n  const renderRecipes = () => {\n    return recipes.map((recipe, i) => {\n      const recipeData = recipe.data();\n      return (\n        <li key={i}>\n          <Link to={`/recipe/${recipe.id}`}>{recipeData.name}</Link>\n        </li>\n      );\n    });\n  };\n\n  return (\n    <div className=\"recipe-list\">\n      <h1>Recipes</h1>\n      <ul>{renderRecipes()}</ul>\n    </div>\n  );\n};\n\nexport default RecipeList;\n"]},"metadata":{},"sourceType":"module"}